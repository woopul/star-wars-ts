{"version":3,"sources":["components/AddMovieForm/AddMovieForm.module.scss","components/ExpandableItem/ExpandableItem.module.scss","components/MovieTable/MovieTable.module.scss","components/MovieList/MovieList.module.scss","components/Header/Header.module.scss","components/MovieItem/MovieItem.module.scss","components/PlanetItem/PlanetItem.module.scss","components/Loader/Loader.module.scss","components/Divider/Divider.module.scss","components/AddMovie/AddMovie.module.scss","store/movies/movies.actions.ts","assets/icons/LOGO.svg","components/Header/Header.tsx","assets/icons/loading.svg","components/Loader/Loader.tsx","components/MovieTable/MovieTable.tsx","api/api.types.ts","store/movies/movies.reducer.ts","store/store.ts","api/usePlanetStore.ts","components/MovieItem/MovieItem.tsx","store/movies/movies.selectors.ts","assets/icons/ARROW_CLOSE.svg","assets/icons/ARROW_OPEN.svg","components/ExpandableItem/ExpandableItem.tsx","api/api.ts","api/useFetch.ts","components/MovieList/MovieList.tsx","components/Divider/Divider.tsx","components/PlanetItem/PlanetItem.tsx","components/AddMovieForm/AddMovieForm.tsx","components/AddMovie/AddMovie.tsx","components/App/App.tsx","index.tsx"],"names":["module","exports","MoviesActionType","Header","className","styles","header","src","logo","alt","header__logo","Loader","size","loaderStyle","width","height","style","Load","useStyles","makeStyles","TableContainer","boxShadow","table","minWidth","borderBottom","head","fontSize","color","name","headers","MovieTable","rows","matchesResponsive","useMediaQuery","mobileTableMap","map","row","Object","values","slice","classes","MobileMainTablesContainer","MovieGrid","value","i","Fragment","category","id","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","TableBody","rotation_period","orbital_period","diameter","climate","surface_water","population","pickData","initialState","movies","planets","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","state","action","type","POST_MOVIE","title","payload","planetsUrl","SET_MOVIES","SET_PLANETS","ADD_PLANET","applyMiddleware","reduxThunk","dispatch","getCashedPlanets","planetsData","cashedPlanets","JSON","parse","localStorage","getItem","_","usePlanetStore","urls","useState","cashed","setChashedPlanets","error","setError","isLoading","setIsLoading","useEffect","fetchPlanets","setItem","stringify","a","url","includes","urlHttps","replace","axios","get","response","planetDataToStore","pick","data","prevState","planetData","console","log","MovieItem","movie","isOpen","planetsDataToDisplay","storedPlanets","useSelector","find","usePlanetsDataToDisplay","MovieItemContainer","_extends","assign","target","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","cx","cy","r","transform","fill","_ref3","d","stroke","strokeWidth","strokeLinecap","SvgArrowClose","_ref","svgRef","titleId","props","viewBox","ref","ForwardRef","SvgArrowOpen","ExpandableItem","text","children","setIsOpen","propsChildren","React","Children","toArray","child","cloneElement","container","onClick","prev","item","expanded","item__text","expandedField","starWarsApi","create","baseURL","useFetchMovies","useDispatch","setMovies","then","res","moviesQuery","results","setMoviesStore","finally","catch","err","message","MovieList","MovieListContent","Divider","PlanetItem","handleRemove","remove","AddMovieForm","movieTitle","addPlanet","formData","setFormData","autocompleteFetch","setAutocompleteFetch","selectedPlanets","setSelectedPlanets","errors","setErrors","touched","setTouched","validate","nextErrors","test","handleBlur","handleChange","handleRemovePlanet","filter","planet","AddMovieFormContainer","onSubmit","event","movieData","preventDefault","p","UPDATE_PLANETS","InputField","htmlFor","placeholder","errorInput","onChange","onBlur","errorMsg","autoComplete","hints","some","handleSelectPlanet","disabled","AddMovie","AddMovieContainer","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2eaba665.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddMovieFormContainer\":\"AddMovieForm_AddMovieFormContainer__2fjHs\",\"errorInput\":\"AddMovieForm_errorInput__1XxvT\",\"correctInput\":\"AddMovieForm_correctInput__1NVUZ\",\"errorMsg\":\"AddMovieForm_errorMsg__2rlsi\",\"InputField\":\"AddMovieForm_InputField__38gaI\",\"hints\":\"AddMovieForm_hints__2j0YN\",\"selectedPlanets\":\"AddMovieForm_selectedPlanets__2Co5D\",\"planetItem\":\"AddMovieForm_planetItem__NdwPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ExpandableItem_container__2xTtA\",\"item\":\"ExpandableItem_item__3tJHU\",\"item__text\":\"ExpandableItem_item__text__xc0a-\",\"expanded\":\"ExpandableItem_expanded__1pXsj\",\"expandedField\":\"ExpandableItem_expandedField__2y0Fm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"MovieTable_Container__1Krdx\",\"table\":\"MovieTable_table__2vEl7\",\"head\":\"MovieTable_head__3cSmK\",\"name\":\"MovieTable_name__1Xb-A\",\"MobileMainTablesContainer\":\"MovieTable_MobileMainTablesContainer__MCIlz\",\"MovieGrid\":\"MovieTable_MovieGrid__3_jOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieList\":\"MovieList_MovieList__25lKZ\",\"MovieList-open\":\"MovieList_MovieList-open__SFsCH\",\"MovieListContent\":\"MovieList_MovieListContent__30pYf\",\"error\":\"MovieList_error__2kmfT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__wfufl\",\"header__logo\":\"Header_header__logo__1e-rT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieItemContainer\":\"MovieItem_MovieItemContainer__1tVus\",\"error\":\"MovieItem_error__3pzMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlanetItem\":\"PlanetItem_PlanetItem__TS0G5\",\"remove\":\"PlanetItem_remove__19LTj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1v9y9\",\"load\":\"Loader_load__1E-5i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Divider\":\"Divider_Divider__hYyw0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddMovieContainer\":\"AddMovie_AddMovieContainer__1y7Bx\"};","import { IMovie, IPlanets } from './../../api/api.types';\r\n\r\nexport enum MoviesActionType {\r\n  SET_MOVIES = \"SET_MOVIES\",\r\n  POST_MOVIE = \"POST_MOVIES\",\r\n  SET_PLANETS = \"SET_PLANETS\",\r\n  ADD_PLANET = \"ADD_PLANET\",\r\n  UPDATE_PLANETS = \"UPDATE_PLANETS\"\r\n}\r\n\r\nexport interface ISetMoviesAction {\r\n  type: MoviesActionType.SET_MOVIES,\r\n  payload: IMovie[]\r\n}\r\n\r\nexport interface IPostMovieAction {\r\n  type: MoviesActionType.POST_MOVIE,\r\n  payload: IMovie\r\n}\r\n\r\nexport interface ISetPlanetsAction {\r\n  type: MoviesActionType.SET_PLANETS,\r\n  payload: IPlanets[]\r\n}\r\n\r\nexport interface IAddPlanetAction {\r\n  type: MoviesActionType.ADD_PLANET,\r\n  payload: IPlanets\r\n}\r\n\r\nexport interface IUpdatePLanets {\r\n  type: MoviesActionType.UPDATE_PLANETS,\r\n  payload: IPlanets[]\r\n}\r\n\r\nexport type MoviesAction = ISetMoviesAction | ISetPlanetsAction | IPostMovieAction | IAddPlanetAction | IUpdatePLanets;\r\n\r\nexport const setMoviesStore = (movies: IMovie[]): ISetMoviesAction => ({ type: MoviesActionType.SET_MOVIES, payload: movies });\r\n\r\nexport const postMovie = (movieData: IMovie): IPostMovieAction => ({ type: MoviesActionType.POST_MOVIE, payload: movieData });\r\n\r\nexport const setPlanetStore = (planetsData: IPlanets[]): ISetPlanetsAction => ({ type: MoviesActionType.SET_PLANETS, payload: planetsData });\r\n\r\nexport const addPlanetStore = (planetData: IPlanets): IAddPlanetAction => ({ type: MoviesActionType.ADD_PLANET, payload: planetData });\r\n\r\nexport const UpdatePlanetStore = (planetData: IPlanets[]): IUpdatePLanets => {\r\n  return { type: MoviesActionType.UPDATE_PLANETS, payload: planetData }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/LOGO.f12a06d3.svg\";","import React from \"react\";\r\nimport styles from './Header.module.scss';\r\nimport logo from \"../../assets/icons/LOGO.svg\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className={styles.header}>\r\n      <img src={logo} alt=\"\" className={styles.header__logo} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/loading.bffa8516.svg\";","import React from \"react\";\r\nimport Load from \"../../assets/icons/loading.svg\";\r\n\r\nimport styles from './Loader.module.scss'\r\n\r\ninterface LoaderProps {\r\n  size?: number\r\n}\r\n\r\nconst Loader = ({size = 50} : LoaderProps) => {\r\n  const loaderStyle = {\r\n    width: `${size}px`,\r\n    height: `${size}px`\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img style={loaderStyle} className={styles.Loader} src={Load} alt=\"\" />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { IPlanets } from '../../api/api.types';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport styles from './MovieTable.module.scss'\r\n\r\nconst useStyles = makeStyles({\r\n  TableContainer: {\r\n    boxShadow: 'none',\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n    '& td': {\r\n      borderBottom: 'none',\r\n    }\r\n  },\r\n  head: {\r\n    '& th': {\r\n      fontSize: '0.8rem',\r\n      color: 'black',\r\n      '&:first-child': {\r\n        color: '#00687F',\r\n      }\r\n    }\r\n  },\r\n  name: {\r\n    color: '#00687F',\r\n  }\r\n});\r\n\r\nconst headers = [\"Planet Name\", \"Rotation Period\", \"Orbital period\", \"Diameter\", \"Climate\", \"Surface water\", \"Population\"];\r\n\r\ninterface IMovieTable {\r\n  rows: IPlanets[]\r\n}\r\n\r\nconst MovieTable = ({ rows }: IMovieTable) => {\r\n  const matchesResponsive = useMediaQuery('(max-width:600px)')\r\n  const mobileTableMap = rows.map(row => Object.values(row).slice(1)) //arr[][] of planet data values\r\n  const classes = useStyles();\r\n\r\n  if (matchesResponsive) {\r\n    return (\r\n      <div key='moblieTable' className={styles.MobileMainTablesContainer}>\r\n        {mobileTableMap.map(row => (\r\n          <div key={row[0]} className={styles.MovieGrid}>\r\n            {row.map((value, i) => (<React.Fragment key={value}>\r\n              <div className={styles.category}>{headers[i]}</div>\r\n              <div className={`${styles.value} ${i===0 && styles.name}`}>{value}</div>\r\n            </React.Fragment>))\r\n            }\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TableContainer key='deskTable' id=\"Container\" className={classes.TableContainer} component={Paper}>\r\n      <Table size='small' className={classes.table} aria-label=\"simple table\">\r\n        <TableHead className={classes.head}>\r\n          <TableRow>\r\n            {headers.map((header, i) => <TableCell key={`${i}_${header}`}>{header}</TableCell>)}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow key={row.name}>\r\n              <TableCell className={classes.name}>{row.name}</TableCell>\r\n              <TableCell >{row.rotation_period}</TableCell>\r\n              <TableCell >{row.orbital_period}</TableCell>\r\n              <TableCell >{row.diameter}</TableCell>\r\n              <TableCell >{row.climate}</TableCell>\r\n              <TableCell >{row.surface_water}</TableCell>\r\n              <TableCell >{row.population}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport default MovieTable;","export interface IMoviesQuery {\r\n  movies: IMovie[];\r\n  error: string | null;\r\n}\r\n\r\nexport interface IMovie {\r\n  title: string;\r\n  planetsUrl: string[];\r\n}\r\n\r\nexport interface IPlanets {\r\n  url:string;\r\n  name: string,\r\n  rotation_period: string,\r\n  orbital_period: string,\r\n  diameter: string,\r\n  climate: string,\r\n  gravity: string,\r\n  terrain: string,\r\n  surface_water: string,\r\n  population: string,\r\n}\r\n\r\nexport const pickData = [\r\n  \"url\",\r\n  \"name\",\r\n  \"rotation_period\",\r\n  \"orbital_period\",\r\n  \"diameter\",\r\n  \"climate\",\r\n  \"surface_water\",\r\n  \"population\"\r\n]","import { IMovieState } from './../store.types';\r\nimport { MoviesAction, MoviesActionType } from './movies.actions';\r\n\r\nconst initialState : IMovieState = {\r\n  movies: [],\r\n  planets: []\r\n}\r\n\r\nexport const moviesReducer = (state: IMovieState = initialState, action: MoviesAction) => {\r\n  switch(action.type) {\r\n    case MoviesActionType.POST_MOVIE:\r\n      return {\r\n        ...state,\r\n        movies : [\r\n          ...state.movies, \r\n          { title: action.payload.title, planetsUrl: action.payload.planetsUrl }\r\n        ]\r\n      }\r\n    case MoviesActionType.SET_MOVIES:\r\n      return {\r\n        ...state,\r\n        movies : action.payload\r\n      }\r\n\r\n    case MoviesActionType.SET_PLANETS: \r\n      return {\r\n        ...state,\r\n        planets: [...action.payload] \r\n      }\r\n\r\n    case MoviesActionType.ADD_PLANET: \r\n      return {\r\n        ...state,\r\n        planets: [...state.planets, action.payload] \r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import { moviesReducer } from './movies/movies.reducer';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n  }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(\r\n  moviesReducer,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nexport const dispatch = () => store.dispatch;\r\n","import { setPlanetStore, addPlanetStore } from './../store/movies/movies.actions';\r\nimport { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport _ from 'lodash';\r\nimport { IPlanets, pickData } from './api.types';\r\nimport { dispatch } from '../store/store';\r\n\r\nconst getCashedPlanets = () => {\r\n  const cashedPlanets: IPlanets[] = JSON.parse(window.localStorage.getItem('planets')) || [];\r\n  dispatch()(setPlanetStore(_.values(cashedPlanets)));\r\n  return cashedPlanets;\r\n}\r\n\r\nexport const usePlanetStore = (urls?: string[]) => {\r\n  const [cashed, setChashedPlanets] = useState<IPlanets[]>(getCashedPlanets)\r\n  const [error, setError] = useState<string>('');\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  useEffect(() => {\r\n    fetchPlanets();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n      !isLoading && window.localStorage.setItem('planets', JSON.stringify(cashed));\r\n  }, [isLoading]); // eslint-disable-line react-hooks/exhaustive-deps\r\n  \r\n  const fetchPlanets = async () => {\r\n    for (const url of urls) {\r\n      if (!_.map(cashed, 'url').includes(url)) {\r\n        const urlHttps = url.includes('https') ? url : url.replace('http', \"https\");\r\n        \r\n        try {\r\n          const response = await axios.get(urlHttps);\r\n          const planetDataToStore = _.pick(response.data, pickData);\r\n          \r\n          setChashedPlanets(prevState => ([...prevState, planetDataToStore]));\r\n          dispatch()(addPlanetStore(planetDataToStore));\r\n        } catch(err) {\r\n          setError(err);\r\n        }\r\n\r\n      } else console.log('%c IN STORE! ', 'background: #222; color: #bada55');\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return { isLoading, error }\r\n}\r\n\r\nexport default usePlanetStore;","import React from 'react';\r\nimport Loader from '../Loader/Loader'\r\nimport MovieTable from '../MovieTable/MovieTable'\r\nimport { IMovie, IPlanets } from '../../api/api.types'\r\nimport usePlanetStore from '../../api/usePlanetStore';\r\nimport { usePlanetsDataToDisplay } from '../../store/movies/movies.selectors';\r\nimport styles from './MovieItem.module.scss';\r\n\r\ninterface IMovieItem {\r\n  movie: IMovie\r\n  isOpen?: boolean\r\n}\r\n\r\nconst MovieItem = ({ movie, isOpen }: IMovieItem) => {\r\n  const { planetsUrl } = movie;\r\n  const { isLoading, error } = usePlanetStore(planetsUrl)\r\n  const planetsDataToDisplay : IPlanets[] = usePlanetsDataToDisplay(planetsUrl);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ?\r\n        <Loader /> :\r\n        <div className={styles.MovieItemContainer}>\r\n          {error && <div className={styles.error}></div>}\r\n          <MovieTable rows={planetsDataToDisplay} />\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MovieItem;","import { IPlanets, IMovie } from './../../api/api.types';\r\nimport { useSelector } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nexport const getPlanets = () : IPlanets[] => {\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  return useSelector(state => state.planets)\r\n}\r\n\r\nexport const getPlanetData = (planet: string) : IPlanets => {\r\n  return getPlanets()[planet]\r\n}\r\n\r\nexport const usePlanetsDataToDisplay = (planetsUrl: string[]) : IPlanets[] => {\r\n  const storedPlanets = useSelector(state => state.planets);\r\n  return planetsUrl.map(url => _.find(storedPlanets, ['url', url]))\r\n}\r\n\r\nexport const getMoviesToDisplay = () : IMovie[] => {\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  return useSelector(state => state.movies);\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 9,\n  cy: 9,\n  r: 9,\n  transform: \"rotate(-180 9 9)\",\n  fill: \"#5FBBCF\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.75 10.6875L9 6.74013L5.25 10.6875\",\n  stroke: \"white\",\n  strokeWidth: 4,\n  strokeLinecap: \"square\"\n});\n\nfunction SvgArrowClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowClose);\nexport default __webpack_public_path__ + \"static/media/ARROW_CLOSE.bcc0d8d8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 9,\n  cy: 9,\n  r: 9,\n  fill: \"#00687F\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.25 7.3125L9 11.2599L12.75 7.3125\",\n  stroke: \"white\",\n  strokeWidth: 4,\n  strokeLinecap: \"square\"\n});\n\nfunction SvgArrowOpen(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowOpen);\nexport default __webpack_public_path__ + \"static/media/ARROW_OPEN.d3529968.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ReactElement, useState } from 'react';\r\nimport { ReactComponent as ArrowClose } from '../../assets/icons/ARROW_CLOSE.svg'\r\nimport { ReactComponent as ArrowOpen } from '../../assets/icons/ARROW_OPEN.svg'\r\nimport styles from './ExpandableItem.module.scss';\r\n\r\ninterface IExpandableElement {\r\n  text: string,\r\n  children?: React.ReactElement<any>\r\n}\r\n\r\nconst ExpandableItem = ({ text = 'Expandable Item', children }: IExpandableElement) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const propsChildren = React.Children.toArray(children).map((child) =>\r\n    React.cloneElement(child as ReactElement<any>, { isOpen }),\r\n  )\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div onClick={() => setIsOpen(prev => !prev)} className={`${styles.item} ${isOpen && styles.expanded}`}>\r\n        <p className={styles.item__text}>{text}</p>\r\n        {isOpen ?\r\n          <ArrowClose /> :\r\n          <ArrowOpen />}\r\n      </div>\r\n      <div className={`${styles.expandedField} ${isOpen && styles.expanded}`}>\r\n        {isOpen && propsChildren}\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default ExpandableItem;","import axios from 'axios';\r\nconst API_ROOT = \"https://swapi.dev/api\";\r\n\r\nexport const starWarsApi = axios.create({\r\n  baseURL: API_ROOT\r\n})\r\n ","import { useState, useEffect } from 'react'\r\nimport { starWarsApi } from './api';\r\nimport { IMovie } from './api.types';\r\nimport { setMoviesStore } from '../store/movies/movies.actions'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const useFetchMovies = () => {\r\n  const dispatch = useDispatch();\r\n  const [movies, setMovies] = useState<IMovie[]>([]);\r\n  const [error, setError] = useState<string>('');\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      starWarsApi.get('/films/')\r\n        .then(res => {\r\n          const moviesQuery = res.data.results.map(movie => ({\r\n            title: movie.title,\r\n            planetsUrl: movie.planets\r\n          }))\r\n          setMovies(moviesQuery);\r\n          dispatch(setMoviesStore(moviesQuery))\r\n        })\r\n        .finally(() => setIsLoading(false))\r\n        .catch(err => setError(err.message))\r\n    } catch (err) {\r\n      setError(err.message)\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  return { isLoading, movies, error }\r\n}","import React from \"react\";\r\nimport { useSelector } from 'react-redux'\r\nimport Loader from \"../Loader/Loader\";\r\nimport MovieItem from '../MovieItem/MovieItem';\r\nimport { IMovie } from '../../api/api.types';\r\nimport ExpandableItem from '../ExpandableItem/ExpandableItem';\r\nimport { useFetchMovies } from '../../api/useFetch';\r\nimport styles from \"./MovieList.module.scss\";\r\n\r\nconst MovieList = () => {\r\n\tconst { isLoading, error } = useFetchMovies();\r\n\tconst movies: IMovie[] = useSelector(state => state.movies)\r\n\r\n\tconst renderMovieList = () => {\r\n\t\tif (error) return <div className={styles.error}>Smthng went wrong during fetch: {error}</div>;\r\n\r\n\t\treturn movies.map((movie, i) => {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment key={`${i}_${movie.title}`} >\r\n\t\t\t\t\t<ExpandableItem key={i} text={movie.title}>\r\n\t\t\t\t\t\t<MovieItem movie={movie} />\r\n\t\t\t\t\t</ExpandableItem>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.MovieList}>\r\n\t\t\t\t{isLoading ?\r\n\t\t\t\t\t<Loader key={`movieListLoader`} /> :\r\n\t\t\t\t\t<div className={styles.MovieListContent}>\r\n\t\t\t\t\t\t{renderMovieList()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MovieList;\r\n","import React from 'react';\r\nimport styles from './Divider.module.scss';\r\n\r\n \r\nconst Divider = () => {\r\n\r\n  return(<div className={styles.Divider}></div>);\r\n}\r\n\r\nexport default Divider;","import React from 'react';\r\n\r\nimport styles from './PlanetItem.module.scss';\r\n\r\ninterface IPlanetItem {\r\n  name: string,\r\n  handleRemove: (name: string) => void\r\n}\r\n\r\nconst PlanetItem = ({name, handleRemove}: IPlanetItem) => {\r\n\r\n  return(\r\n    <div className={styles.PlanetItem}>\r\n      {name} <span onClick={() => handleRemove(name)}className={styles.remove}></span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlanetItem;","import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport styles from './AddMovieForm.module.scss';\r\nimport _ from 'lodash';\r\nimport PlanetItem from \"../PlanetItem/PlanetItem\";\r\nimport { IPlanets, pickData } from \"../../api/api.types\";\r\nimport { dispatch } from \"../../store/store\";\r\nimport { postMovie, UpdatePlanetStore } from \"../../store/movies/movies.actions\";\r\n\r\ninterface IFormData {\r\n\tmovieTitle: string,\r\n\taddPlanet: string\r\n}\r\n\r\ninterface IFormControl {\r\n\tmovieTitle?: string | boolean,\r\n\taddPlanet?: string | boolean\r\n}\r\n\r\nconst AddMovieForm = () => {\r\n\tconst [formData, setFormData] = useState<IFormData>({\r\n\t\tmovieTitle: \"\",\r\n\t\taddPlanet: \"\"\r\n\t});\r\n\tconst [autocompleteFetch, setAutocompleteFetch] = useState([]);\r\n\tconst [selectedPlanets, setSelectedPlanets] = useState<IPlanets[]>([]);\r\n\tconst [errors, setErrors] = useState<IFormControl>({});\r\n\tconst [touched, setTouched] = useState<IFormControl>({});\r\n\r\n\tuseEffect(() => {\r\n\t\tvalidate(formData);\r\n\t}, [formData]);\r\n\r\n\tconst validate = (values: IFormData) => {\r\n\t\tconst nextErrors: IFormControl = {};\r\n\r\n\t\tif (!values.movieTitle) {\r\n\t\t\tnextErrors.movieTitle = \"Field is required\";\r\n\t\t} else {\r\n\t\t\tif (!/^[A-Z]/.test(values.movieTitle)){\r\n\t\t\t\tnextErrors.movieTitle = \"Movie title name must start with capital letter\"\r\n\t\t\t}\r\n\t\t\tif (values.movieTitle.length < 3) {\r\n\t\t\t\tnextErrors.movieTitle = nextErrors.movieTitle ?\r\n\t\t\t\t`${nextErrors.movieTitle} | title must be at least three letters long`:\r\n\t\t\t\t\"Title must be at least three letters long\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetErrors(nextErrors);\r\n\t};\r\n\r\n\tconst clearForm = () => {\r\n\t\tsetFormData({\r\n\t\t\taddPlanet: '',\r\n\t\t\tmovieTitle: ''\r\n\t\t});\r\n\t\tsetErrors({});\r\n\t\tsetTouched({});\r\n\t\tsetAutocompleteFetch([]);\r\n\t\tsetSelectedPlanets([]);\r\n\t}\r\n\r\n\tconst handleBlur = ({ target: { value, name } }) => {\r\n\t\tif (!touched[name]) {\r\n\t\t\tsetTouched({ ...touched, [name]: true });\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleChange = ({ target: { value, name } }) => {\r\n\t\tif (name === \"addPlanet\") {\r\n\t\t\t(async () => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tsetAutocompleteFetch([]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst results = await axios.get(`https://swapi.dev/api/planets/?search=${value}`).then(res => res.data.results);\r\n\t\t\t\t\tsetAutocompleteFetch(results);\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t}\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (selectedPlanets.length === 0) {\r\n\t\t\tsetErrors({ ...errors, \"addPlanet\": \"At Least One planet needs to be selected\" });\r\n\t\t\treturn\r\n\t\t}\r\n\t\tclearForm();\r\n\t\tdispatch()(postMovie({ title: formData.movieTitle, planetsUrl: selectedPlanets.map(p => p.url) }))\r\n\t\tdispatch()(UpdatePlanetStore([]))\r\n\r\n\t};\r\n\r\n\tconst handleSelectPlanet = (res) => {\r\n\t\tsetAutocompleteFetch([])\r\n\t\tif (_.some(selectedPlanets, { name: res.name })) return;\r\n\t\tsetSelectedPlanets([...selectedPlanets, _.pick(res, pickData)]);\r\n\t}\r\n\r\n\tconst handleRemovePlanet = name => {\r\n\t\tsetSelectedPlanets(selectedPlanets.filter(planet => planet.name !== name));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.AddMovieFormContainer}>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className={styles.InputField}>\r\n\t\t\t\t\t<label htmlFor=\"movieTitle\">Movie Title\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"movieTitle\"\r\n\t\t\t\t\t\t\tid=\"movieTitle\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Please enter the title of the movie\"\r\n\t\t\t\t\t\t\tclassName={errors.movieTitle && touched.movieTitle && styles.errorInput}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\tvalue={formData.movieTitle}\r\n\t\t\t\t\t\t/></label>\r\n\t\t\t\t\t{errors.movieTitle && touched.movieTitle && (<p className={styles.errorMsg}>{errors.movieTitle}</p>)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={styles.InputField}>\r\n\t\t\t\t\t{selectedPlanets.length > 0 && <div className={styles.selectedPlanets}>{selectedPlanets.map(planet => <PlanetItem name={planet.name} handleRemove={handleRemovePlanet} />)}</div>}\r\n\t\t\t\t\t<label htmlFor=\"addPlanet\">Add Planet\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tname=\"addPlanet\"\r\n\t\t\t\t\t\t\tplaceholder=\"Search for the planet in database\"\r\n\t\t\t\t\t\t\tid=\"addPlanet\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName={errors.addPlanet && touched.addPlanet && styles.errorInput}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\tvalue={formData.addPlanet}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{autocompleteFetch.length > 0 &&\r\n\t\t\t\t\t\t\t<div className={styles.hints}>\r\n\t\t\t\t\t\t\t\t{autocompleteFetch.map(res => res.name === 'unknown' ? null : <p onClick={() => handleSelectPlanet(res)}>{res.name}</p>)}\r\n\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t{errors[\"addPlanet\"] && (<p className={styles.errorMsg}>{errors[\"addPlanet\"]}</p>)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tdisabled={Object.keys(errors).length ? true : false}\r\n\t\t\t\t>ADD MOVIE </button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AddMovieForm;\r\n","import React from 'react';\r\nimport AddMovieForm from '../AddMovieForm/AddMovieForm';\r\nimport ExpandableItem from \"../ExpandableItem/ExpandableItem\";\r\n\r\nimport styles from './AddMovie.module.scss';\r\n\r\nconst AddMovie = () => {\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.AddMovieContainer}>\r\n        <ExpandableItem text='Add Movie'> \r\n          <AddMovieForm />\r\n        </ExpandableItem>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddMovie;","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport MovieList from \"../MovieList/MovieList\";\r\nimport Divider from '../Divider/Divider';\r\nimport AddMovie from \"../AddMovie/AddMovie\";\r\n\r\nimport \"./app.scss\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <Header />\r\n      <MovieList />\r\n      <Divider />\r\n      <AddMovie/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from 'react-redux'\r\nimport App from \"./components/App/App\";\r\nimport { store } from \"./store/store\";\r\n\r\nimport \"./styles/main.scss\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}